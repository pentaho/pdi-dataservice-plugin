<!--
  ~ This program is free software; you can redistribute it and/or modify it under the
  ~ terms of the GNU Lesser General Public License, version 2.1 as published by the Free Software
  ~ Foundation.
  ~
  ~ You should have received a copy of the GNU Lesser General Public License along with this
  ~ program; if not, you can obtain a copy at http://www.gnu.org/licenses/old-licenses/lgpl-2.1.html
  ~ or from the Free Software Foundation, Inc.,
  ~ 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
  ~
  ~ This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;
  ~ without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
  ~ See the GNU Lesser General Public License for more details.
  ~
  ~ Copyright 2015 - 2018 Hitachi Vantara. All rights reserved.
  -->

<assembly>
  <id>package</id>

  <formats>
    <format>zip</format>
  </formats>

  <baseDirectory>pdi-dataservice-client-plugin</baseDirectory>
  <fileSets>
    <fileSet>
      <directory>${project.basedir}</directory>
      <includes>
        <include>README.txt</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>src/resources</directory>
      <outputDirectory>.</outputDirectory>
    </fileSet>
  </fileSets>

  <dependencySets>
    <dependencySet>
      <scope>runtime</scope>
      <outputDirectory>.</outputDirectory>
      <useTransitiveDependencies>false</useTransitiveDependencies>
      <useProjectArtifact>false</useProjectArtifact>
      <includes>
        <include>pentaho:pdi-dataservice-client-impl:*</include>
        <include>pentaho:pdi-dataservice-client-api:*</include>
      </includes>
    </dependencySet>
    <dependencySet>
      <useTransitiveDependencies>true</useTransitiveDependencies>
      <includes>
        <include>commons-collections:commons-collections:jar:*</include>
        <include>io.reactivex.rxjava2:rxjava:*</include>
        <include>org.reactivestreams:reactive-streams:*</include>
      </includes>
      <excludes>
        <exclude>pentaho:pdi-dataservice-client-impl:*</exclude>
        <exclude>pentaho:pdi-dataservice-client-api:*</exclude>
      </excludes>
      <unpack>false</unpack>
      <scope>runtime</scope>
      <useProjectArtifact>true</useProjectArtifact>
      <outputDirectory>lib</outputDirectory>
    </dependencySet>
  </dependencySets>
</assembly>

